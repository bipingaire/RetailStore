{
    email advikai757@gmail.com
    # Warning: In a real production environment with open signups, you MUST configure an 'ask' endpoint
    # to prevent abuse of On-Demand TLS. For this private/controlled deployment, it is acceptable.
    on_demand_tls {
        ask http://app:3010/api/infra/domain-check # We will need to implement this simple endpoint later or remove if trusting all
        interval 2m
        burst 5
    }
}

https://retailOS.cloud {
    reverse_proxy app:3010
}

https://indumart.us {
    reverse_proxy app:3010
}

# Legacy Site Restoration
https://supertruck.ai, https://www.supertruck.ai {
    reverse_proxy http://host.docker.internal:8080
}

https://*.indumart.us {
    tls {
        on_demand
    }
    reverse_proxy app:3010
}

https://*.retailOS.cloud {
    tls {
        on_demand
    }
    reverse_proxy app:3010
}
